{"version":3,"sources":["webpack:///./src/views/Collections.vue?c5b9","webpack:///src/views/Collections.vue","webpack:///./src/views/Collections.vue?3d93","webpack:///./src/views/Collections.vue","webpack:///./src/views/Collections.vue?fcf4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","res","pageList","length","_v","_e","_l","Pages","key","date","dates","Page","id","padding","nativeOn","$event","viewmk","fit","slot","catwriter","reserveId","dialogFormVisible","directives","name","rawName","value","isCreator","expression","dropwrite","delDoc","_s","title","drawer","direction","on","writer","permission","delWriter","writerPermission","remoteMethod","model","callback","$$v","user","addWriter","docId","dialogVisible","handleClose","writerList","scopedSlots","_u","fn","scope","row","handleEdit","$index","staticRenderFns","component"],"mappings":"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","file":"js/chunk-47697be2.d47a45ba.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full\"},[_c('el-container',{staticStyle:{\"height\":\"100%\"},attrs:{\"direction\":\"vertical\"}},[_c('el-header',[_c('Topbar')],1),_c('el-container',[_c('Asidebar'),_c('el-container',[_c('el-main',[(_vm.res.pageList.length===0)?_c('div',[_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#8492a6\"}},[_vm._v(\"这里什么都没有~\")])]):_vm._e(),(_vm.res.pageList.length>0)?_c('div',{staticClass:\"block\"},[_c('el-timeline',_vm._l((this.res.pageList),function(Pages){return _c('el-timeline-item',{key:Pages.date,attrs:{\"timestamp\":Pages.dates,\"placement\":\"top\"}},[_c('el-row',{attrs:{\"gutter\":14}},_vm._l((Pages.pageList),function(Page){return _c('el-col',{key:Page.id,attrs:{\"span\":12}},[_c('el-card',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"shadow\":\"hover\",\"body-style\":{ padding: '0px' }},nativeOn:{\"click\":function($event){return _vm.viewmk(Page.id)}}},[_c('el-image',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"float\":\"left\",\"margin-left\":\"10px\"},attrs:{\"src\":require('@/assets/document-gray.png'),\"fit\":_vm.fit}}),_c('el-dropdown',{staticStyle:{\"float\":\"right\",\"margin-top\":\"-15px\",\"margin-right\":\"5px\"}},[_c('el-button',{staticStyle:{\"border-color\":\"white\"}},[_c('i',{staticClass:\"el-icon-more\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.catwriter(Page.id)}}},[_vm._v(\"查看协作者\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){_vm.reserveId(Page.id);_vm.dialogFormVisible = true}}},[_vm._v(\"邀请协作\")]),_c('el-dropdown-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(!Page.isCreator),expression:\"!Page.isCreator\"}],nativeOn:{\"click\":function($event){return _vm.dropwrite(Page.id)}}},[_vm._v(\"退出协作\")]),_c('el-dropdown-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(Page.isCreator),expression:\"Page.isCreator\"}],staticStyle:{\"color\":\"red\"},nativeOn:{\"click\":function($event){return _vm.delDoc(Page.id)}}},[_vm._v(\"移至回收站\")])],1)],1),_c('h4',[_vm._v(_vm._s(Page.title))]),_c('p',[_vm._v(_vm._s(Page.dates))])],1)],1)}),1)],1)}),1)],1):_vm._e()])],1)],1)],1),_c('el-drawer',{attrs:{\"title\":\"协作者列表\",\"visible\":_vm.drawer,\"direction\":_vm.direction},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('ul',_vm._l((_vm.res.writerList),function(writer){return _c('li',{key:writer.id,staticStyle:{\"padding\":\"20px 0 20px 0\",\"border\":\"0.5px solid black\"}},[_c('span',[_vm._v(_vm._s(writer.name))]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(writer.permission!=5),expression:\"writer.permission!=5\"}],staticStyle:{\"float\":\"right\",\"margin-top\":\"-10px\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delWriter(writer.id)}}},[_vm._v(\"移除\")]),_c('el-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(writer.permission!=5),expression:\"writer.permission!=5\"}],staticStyle:{\"float\":\"right\",\"margin-top\":\"-10px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.permission[writer.permission-1]))]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(writer.id,1)}}},[_vm._v(\"查看\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(writer.id,2)}}},[_vm._v(\"评论\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(writer.id,3)}}},[_vm._v(\"分享\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(writer.id,4)}}},[_vm._v(\"修改\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(writer.id,5)}}},[_vm._v(\"管理\")])],1)],1)],1)}),0)]),_c('el-dialog',{attrs:{\"title\":\"添加协作者\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-select',{attrs:{\"placeholder\":\"输入用户名\",\"reserve-keyword\":\"\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMethod},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.searchList),function(user){return _c('el-option',{key:user.id,attrs:{\"label\":user.name,\"value\":user.name}})}),1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.addWriter(_vm.docId,_vm.value);_vm.dialogFormVisible = false}}},[_vm._v(\"添 加\")])],1)],1),_c('el-dialog',{staticStyle:{\"overflow-x\":\"hidden\",\"overflow-y\":\"scroll\"},attrs:{\"title\":\"协作者\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.res.writerList}},[_c('el-table-column',{attrs:{\"label\":\"用户名\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"权限\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(_vm.permission[scope.row.permission-1]))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{staticStyle:{\"margin-right\":\"5px\"}},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.permission!=5),expression:\"scope.row.permission!=5\"}],attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"改变权限\")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(_vm.docId,scope.row.id,1)}}},[_vm._v(\"查看\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(_vm.docId,scope.row.id,2)}}},[_vm._v(\"评论\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(_vm.docId,scope.row.id,3)}}},[_vm._v(\"分享\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(_vm.docId,scope.row.id,4)}}},[_vm._v(\"修改\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.writerPermission(_vm.docId,scope.row.id,5)}}},[_vm._v(\"管理\")])],1)],1),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.permission!=5),expression:\"scope.row.permission!=5\"}],attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delWriter(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"full\">\r\n        <el-container style=\"height: 100%\" direction=\"vertical\">\r\n            <el-header>\r\n                <Topbar></Topbar>\r\n            </el-header>\r\n            <el-container>\r\n                <Asidebar></Asidebar>\r\n                <el-container>\r\n                    <el-main>\r\n                        <div v-if=\"res.pageList.length===0\">\r\n                            <span style=\"font-size: 16px;color: #8492a6\">这里什么都没有~</span>\r\n\r\n                        </div>\r\n                        <div class=\"block\" v-if=\"res.pageList.length>0\">\r\n                            <el-timeline>\r\n                                <el-timeline-item v-for=\"Pages in this.res.pageList\" :key=\"Pages.date\" :timestamp=\"Pages.dates\" placement=\"top\">\r\n                                    <el-row :gutter=\"14\">\r\n                                        <el-col :span=\"12\" v-for=\"Page in Pages.pageList\" :key=\"Page.id\">\r\n                                            <el-card shadow=\"hover\" :body-style=\"{ padding: '0px' }\" style=\"margin-bottom: 10px\" @click.native=\"viewmk(Page.id)\">\r\n                                                <el-image\r\n                                                        style=\"width: 50px; height: 50px; float: left; margin-left: 10px\"\r\n                                                        :src=\"require('@/assets/document-gray.png')\"\r\n                                                        :fit=\"fit\"></el-image>\r\n                                                <el-dropdown style=\"float: right;margin-top: -15px;margin-right: 5px\">\r\n                                                    <el-button style=\"border-color: white\">\r\n                                                        <i class=\"el-icon-more\"></i>\r\n                                                    </el-button>\r\n                                                    <el-dropdown-menu slot=\"dropdown\">\r\n                                                        <el-dropdown-item @click.native=\"catwriter(Page.id)\">查看协作者</el-dropdown-item>\r\n                                                        <el-dropdown-item @click.native=\"reserveId(Page.id);dialogFormVisible = true\">邀请协作</el-dropdown-item>\r\n                                                        <el-dropdown-item @click.native=\"dropwrite(Page.id)\" v-show=\"!Page.isCreator\">退出协作</el-dropdown-item>\r\n                                                        <el-dropdown-item @click.native=\"delDoc(Page.id)\" v-show=\"Page.isCreator\" style=\"color:red\">移至回收站</el-dropdown-item>\r\n                                                    </el-dropdown-menu>\r\n                                                </el-dropdown>\r\n                                                <h4>{{Page.title}}</h4>\r\n                                                <p>{{Page.dates}}</p>\r\n                                            </el-card>\r\n                                        </el-col>\r\n                                    </el-row>\r\n                                </el-timeline-item>\r\n                            </el-timeline>\r\n                        </div>\r\n                        <!--                        <el-timeline :reverse=\"reverse\">-->\r\n                        <!--                            <el-timeline-item-->\r\n                        <!--                                    v-for=\"Page in res.pageList\"-->\r\n                        <!--                                    :key=\"Page.id\"-->\r\n                        <!--                                    :timestamp=\"2020-12-1\">-->\r\n                        <!--                                {{Page.title}}-->\r\n                        <!--                            </el-timeline-item>-->\r\n                        <!--                        </el-timeline>-->\r\n                        <!--                        <div id=\"doc\">-->\r\n                        <!--                            <el-row :gutter=\"14\">-->\r\n                        <!--&lt;!&ndash;                                <el-col :span=\"6\">&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;                                    <el-card shadow=\"hover\" @click.native=\"GotoMarkDown\" style=\"font-size: 20px; font-weight: bold; height: 210px;\">&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;                                        新建<i class=\"el-icon-plus\"></i>&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;                                        &lt;!&ndash;                                        <el-button type=\"info\" @click=\"GotoMarkDown\" style=\"width: 100%; height: 100%; background-color: white\"><i class=\"el-icon-plus\" style=\"size: auto\"></i>新建</el-button>&ndash;&gt;&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;                                    </el-card>&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;                                </el-col>&ndash;&gt;-->\r\n                        <!--                                <el-col :span=\"10\" v-for=\"Page in res.pageList\" :key=\"Page.id\">-->\r\n                        <!--                                    <el-card shadow=\"hover\" @click.native=\"viewmk(Page.id)\" style=\"margin-bottom: 20px; width: 100%;height: 140px\">-->\r\n                        <!--                                        &lt;!&ndash;                                        <el-button icon=\"el-icon-more\" circle style=\"float: right\"></el-button><br>&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;                                        <el-dropdown trigger=\"hover\" style=\"float: right;\">&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;&lt;!&ndash;                                            <el-button type=\"primary\" style=\"border-color: white;background-color: white\">&ndash;&gt;&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;&lt;!&ndash;                                            </el-button>&ndash;&gt;&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;                                            <i class=\"el-icon-more\"></i>&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;                                            &lt;!&ndash;                                            <el-button icon=\"el-icon-more\" circle style=\"float: right\" type=\"info\"></el-button>&ndash;&gt;&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;                                            <el-dropdown-menu slot=\"dropdown\" style=\"margin-top: -55px\">&ndash;&gt;-->\r\n                        <!--                                                <el-dropdown-item @click.native=\"editmk(0)\">修改文章</el-dropdown-item>-->\r\n                        <!--                                                <el-dropdown-item @click.native=\"editmk(0)\">分享</el-dropdown-item>-->\r\n                        <!--                                                                                        <el-dropdown-item @click.native=\"catwriter(Page.id);drawer = true\">查看协作者</el-dropdown-item>-->\r\n                        <!--                                                                                        <el-dropdown-item @click.native=\"dialogFormVisible = true\">邀请协作</el-dropdown-item>-->\r\n                        <!--                                                                                        <el-dropdown-item @click.native=\"dropwrite(Page.id)\" v-show=\"!Page.isCreator\">退出协作</el-dropdown-item>-->\r\n                        <!--                                                                                        <el-dropdown-item @click.native=\"delDoc(Page.id)\" v-show=\"Page.isCreator\" style=\"color:red\">移至回收站</el-dropdown-item>-->\r\n                        <!--                                                                                        &lt;!&ndash;                                                <el-dropdown-item @click.native=\"editmk(0)\">收藏</el-dropdown-item>&ndash;&gt;-->\r\n                        <!--                                                                                        <el-dropdown-item @click.native=\"cancelCollection(Page.id)\" style=\"color:red\">取消收藏</el-dropdown-item>-->\r\n                        <!--                                        &lt;!&ndash;                                            </el-dropdown-menu>&ndash;&gt;-->\r\n                        <!--                                        &lt;!&ndash;                                        </el-dropdown>&ndash;&gt;-->\r\n                        <!--                                        <div  style=\"float: left; margin-top: -57px\">-->\r\n                        <!--                                            <div style=\"margin-bottom: 0; height: 50px; margin-left: -40px\">-->\r\n                        <!--                                                <i class=\"el-icon-document\" style=\"margin-right: 5px\"></i>-->\r\n                        <!--                                                &lt;!&ndash;                                            <span >{{Page.title}}</span>&ndash;&gt;-->\r\n                        <!--                                                <span style=\"font-size: 20px; font-weight: bold\">标题</span><br>-->\r\n                        <!--                                            </div>-->\r\n                        <!--                                            <el-button type=\"primary\" style=\"float: right;margin-right: -300px\">主要按钮</el-button>-->\r\n                        <!--                                            <div style=\"float: right\">-->\r\n                        <!--                                                <el-tag type=\"info\" style=\" font-size: 15px;\">2020-12-2 廉皓然</el-tag>-->\r\n                        <!--                                            </div>-->\r\n                        <!--                                        </div>-->\r\n                        <!--                                    </el-card>-->\r\n                        <!--                                </el-col>-->\r\n                        <!--                            </el-row>                            -->\r\n                        <!--                        </div>-->\r\n                    </el-main>\r\n<!--                    <el-footer>Footer</el-footer>-->\r\n                </el-container>\r\n            </el-container>\r\n        </el-container>\r\n        <el-drawer\r\n            title=\"协作者列表\"\r\n            :visible.sync=\"drawer\"\r\n            :direction=\"direction\">\r\n            <ul>\r\n                <li v-for=\"writer in res.writerList\" :key=\"writer.id\" style=\"padding:20px 0 20px 0;border:0.5px solid black\">\r\n                    <span>{{writer.name}}</span>\r\n                    <el-button type=\"danger\" style=\"float:right;margin-top:-10px\" @click=\"delWriter(writer.id)\" v-show=\"writer.permission!=5\">移除</el-button> \r\n                    <el-dropdown style=\"float:right;margin-top:-10px\"  v-show=\"writer.permission!=5\">\r\n                        <el-button type=\"primary\">{{permission[writer.permission-1]}}</el-button>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item @click.native=\"writerPermission(writer.id,1)\">查看</el-dropdown-item>\r\n                            <el-dropdown-item @click.native=\"writerPermission(writer.id,2)\">评论</el-dropdown-item>\r\n                            <el-dropdown-item @click.native=\"writerPermission(writer.id,3)\">分享</el-dropdown-item>\r\n                            <el-dropdown-item @click.native=\"writerPermission(writer.id,4)\">修改</el-dropdown-item>\r\n                            <el-dropdown-item @click.native=\"writerPermission(writer.id,5)\">管理</el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                    </el-dropdown>\r\n                </li>\r\n            </ul>\r\n        </el-drawer>\r\n        <el-dialog title=\"添加协作者\" :visible.sync=\"dialogFormVisible\">\r\n            <el-select\r\n                    v-model=\"value\"\r\n                    placeholder=\"输入用户名\"\r\n                    reserve-keyword\r\n                    filterable\r\n                    remote\r\n                    :remote-method=\"remoteMethod\">\r\n                <el-option\r\n                        v-for=\"user in searchList\"\r\n                        :key=\"user.id\"\r\n                        :label=\"user.name\"\r\n                        :value=\"user.name\">\r\n                </el-option>\r\n            </el-select>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click.native=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click.native=\"addWriter(docId,value);dialogFormVisible = false\">添 加</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog\r\n                title=\"协作者\"\r\n                :visible.sync=\"dialogVisible\"\r\n\r\n                style=\"overflow-x: hidden;overflow-y: scroll\"\r\n                :before-close=\"handleClose\">\r\n            <el-table\r\n                    :data=\"res.writerList\"\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        label=\"用户名\"\r\n                        width=\"180\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!--                        <i class=\"el-icon-time\"></i>-->\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.name }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"权限\"\r\n                        width=\"180\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!--                        <el-popover trigger=\"hover\" placement=\"top\">-->\r\n                        <!--                            <p>姓名: {{ scope.row.name }}</p>-->\r\n                        <!--                            <p>住址: {{ scope.row.address }}</p>-->\r\n                        <div slot=\"reference\" class=\"name-wrapper\">\r\n                            <el-tag size=\"medium\">{{ permission[scope.row.permission-1] }}</el-tag>\r\n                        </div>\r\n                        <!--                        </el-popover>-->\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-dropdown style=\"margin-right: 5px\">\r\n                            <el-button\r\n                                    size=\"mini\"\r\n                                    @click=\"handleEdit(scope.$index, scope.row)\"  v-show = \"scope.row.permission!=5\">改变权限</el-button>\r\n                            <el-dropdown-menu slot=\"dropdown\">\r\n                                <el-dropdown-item @click.native=\"writerPermission(docId,scope.row.id,1)\">查看</el-dropdown-item>\r\n                                <el-dropdown-item @click.native=\"writerPermission(docId,scope.row.id,2)\">评论</el-dropdown-item>\r\n                                <el-dropdown-item @click.native=\"writerPermission(docId,scope.row.id,3)\">分享</el-dropdown-item>\r\n                                <el-dropdown-item @click.native=\"writerPermission(docId,scope.row.id,4)\">修改</el-dropdown-item>\r\n                                <el-dropdown-item @click.native=\"writerPermission(docId,scope.row.id,5)\">管理</el-dropdown-item>\r\n                            </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                        <!--                        <el-button-->\r\n                        <!--                                size=\"mini\"-->\r\n                        <!--                                @click=\"handleEdit(scope.$index, scope.row)\">改变权限</el-button>-->\r\n                        <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"delWriter(scope.row.id)\"  v-show = \"scope.row.permission!=5\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import Topbar from \"../components/Topbar\";\r\n    import Asidebar from \"../components/Asidebar\";\r\n    import \"@/css/myCSS.css\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                res : {\r\n                    pageList : [],\r\n                    writerList:[]\r\n                },\r\n                permission:[\"查看\",\"评论\",\"分享\",\"修改\",\"管理\"],\r\n                drawer:false,\r\n                direction:\"rtl\",\r\n                searchList: [],\r\n                value:\"\",\r\n                dialogFormVisible: false,\r\n                dialogVisible: false,\r\n                docId:0,\r\n                dialogTableVisible: false,\r\n            }\r\n        },\r\n        created() {\r\n            sessionStorage.setItem(\"type\",2);\r\n            this.getCollectionPage(this.res);\r\n        },\r\n        components:{\r\n            Topbar,\r\n            Asidebar\r\n        },\r\n        methods : {\r\n            reserveId:function(id){\r\n                this.docId = id ;\r\n                // sessionStorage.setItem(\"groupId\",id);\r\n            },\r\n            cancelCollection:function(docId){\r\n                this.$http.post(this.requestUrl+\"/cancelCollection\",{\r\n                    params:{\r\n                        userId:sessionStorage.getItem(\"userId\"),\r\n                        docId:docId\r\n                    }\r\n                }).then(res=>{\r\n                    if (res.data.success){\r\n                        // alert(\"取消收藏成功\");\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '取消收藏成功'\r\n                        });\r\n                        this.res.pageList.splice(this.ArrayIndexOfBydocId(this.res.pageList, docId),1);\r\n                        location.reload();\r\n                    }\r\n                    else {\r\n                        // alert(\"取消收藏失败\");\r\n                        this.$message.error('取消收藏失败！请重试');\r\n                    }\r\n                });\r\n            },\r\n            catwriter:function(id){\r\n                this.docId = id;\r\n                // sessionStorage.setItem(\"docId\",id);\r\n                this.getWriter(id,this.res);\r\n                this.dialogVisible = true;\r\n                // this.drawer = true;\r\n                // this.openDialog();\r\n            },\r\n            remoteMethod(query){\r\n                if(query !== ''){\r\n                    this.$http.get(this.requestUrl+\"/searchUser\",{\r\n                            params:{\r\n                                text:query,\r\n                            }\r\n                        }).then(res => {\r\n                            console.log(res.data);\r\n                            this.searchList = res.data;\r\n                            /*this.searchList = res.data.filter(user =>{\r\n                                return user.name.toLowerCase()\r\n                                .indexOf(query.toLowerCase()) > -1;\r\n                            });*/\r\n                    })                                   \r\n                }\r\n                else{\r\n                    this.searchList = [];\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .el-header, .el-footer {\r\n        background-color: white;\r\n        color: #333;\r\n        text-align: center;\r\n        line-height: 60px;\r\n    }\r\n\r\n    .el-aside {\r\n        background-color: white;\r\n        color: #333;\r\n        text-align: center;\r\n        /*line-height: 200px;*/\r\n    }\r\n\r\n    .el-main {\r\n        background-color: #E9EEF3;\r\n        color: #333;\r\n        text-align: center;\r\n        line-height: 160px;\r\n        overflow-y: hidden;\r\n    }\r\n\r\n    body > .el-container {\r\n        margin-bottom: 40px;\r\n    }\r\n\r\n    .el-container:nth-child(5) .el-aside,\r\n    .el-container:nth-child(6) .el-aside {\r\n        line-height: 260px;\r\n    }\r\n\r\n    .el-container:nth-child(7) .el-aside {\r\n        line-height: 320px;\r\n    }\r\n    .el-dropdown-link {\r\n        cursor: pointer;\r\n        color: #409EFF;\r\n    }\r\n    .el-icon-arrow-down {\r\n        font-size: 12px;\r\n    }\r\n    .demonstration {\r\n        display: block;\r\n        color: #8492a6;\r\n        font-size: 14px;\r\n        margin-bottom: 20px;\r\n    }\r\n    html,body,#app,.el-container{\r\n        /*设置内部填充为0，几个布局元素之间没有间距*/\r\n        padding: 0px;\r\n        /*外部间距也是如此设置*/\r\n        margin: 0px;\r\n        /*统一设置高度为100%*/\r\n        height: 100%;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collections.vue?vue&type=template&id=24b5b1e6&scoped=true&\"\nimport script from \"./Collections.vue?vue&type=script&lang=js&\"\nexport * from \"./Collections.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Collections.vue?vue&type=style&index=0&id=24b5b1e6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24b5b1e6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=style&index=0&id=24b5b1e6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=style&index=0&id=24b5b1e6&scoped=true&lang=css&\""],"sourceRoot":""}