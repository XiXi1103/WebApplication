(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a2c2127"],{"30ed":function(e,t,s){},3690:function(e,t,s){"use strict";var o=s("30ed"),i=s.n(o);i.a},6314:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-container",[s("el-header",[s("Topbar")],1),s("el-container",[s("el-aside",{attrs:{width:"15%"}},[s("el-row",{staticClass:"tac"},[s("el-col",[s("h5",[e._v("默认颜色")]),s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":e.$route.path},on:{open:e.handleOpen,close:e.handleClose}},[s("el-menu-item",[s("i",{staticClass:"el-icon-document"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的信息")])])],1)],1)],1)],1),s("el-container",[s("el-main",[s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"Info-container",attrs:{"label-position":"left","label-width":"90px"}},[s("h2",{staticClass:"title"},[e._v("个人信息")]),s("el-form-item",{attrs:{label:"用户名："}},[s("el-input",{attrs:{type:"text","auto-complete":"off",disabled:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isother,expression:"!isother"}],attrs:{label:"密码："}},[s("el-input",{attrs:{type:"password","auto-complete":"off",disabled:e.ischange},model:{value:e.user.passwd,callback:function(t){e.$set(e.user,"passwd",t)},expression:"user.passwd"}})],1),s("el-form-item",{attrs:{label:"邮箱："}},[s("el-input",{attrs:{type:"email","auto-complete":"off",disabled:e.ischange},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("el-form-item",{attrs:{label:"电话："}},[s("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.ischange},model:{value:e.user.phoneNum,callback:function(t){e.$set(e.user,"phoneNum",t)},expression:"user.phoneNum"}})],1),s("el-form-item",{attrs:{label:"创建日期："}},[s("el-input",{attrs:{type:"text","auto-complete":"off",disabled:""},model:{value:e.user.create_time,callback:function(t){e.$set(e.user,"create_time",t)},expression:"user.create_time"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isother,expression:"!isother"}],staticStyle:{width:"75%"}},[s("el-button",{staticStyle:{width:"50%"},attrs:{type:"primary"},on:{click:e.changeinfo}},[e._v("编辑")])],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isother,expression:"!isother"}],staticStyle:{width:"75%"}},[s("el-button",{staticStyle:{width:"50%"},on:{click:e.preserve}},[e._v("保存")])],1)],1)],1)],1)],1)],1)],1)},i=[],n=s("ddc0"),a={name:"RecycleBin",components:{Topbar:n["a"]},data:function(){return{checked:!0,ischange:1,user:{username:"",passwd:"",email:"",phoneNum:"",create_time:""},loading:!1,isother:!1}},methods:{changeinfo:function(){this.ischange=0},preserve:function(){var e=this,t=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,s=/^1[3|4|5|7|8][0-9]{9}$/;""==this.user.passwd?this.$message({message:"密码不能为空",type:"warning"}):t.test(this.user.email)?s.test(this.user.phoneNum)?(this.ischange=1,this.$http.get(this.requestUrl+"/changePerInfo",{params:{userId:sessionStorage.getItem("userId"),password:this.user.passwd,email:this.user.email,phoneNum:this.user.phoneNum}}).then((function(t){t.data.success?e.$message({message:"保存成功",type:"success"}):e.$message.error("修改失败！请重试")}))):this.$message({message:"请输入正确的电话号码",type:"warning"}):this.$message({message:"请输入正确的邮箱",type:"warning"})}},created:function(){var e=this;this.$http.get(this.requestUrl+"/personalInfo",{params:{userId:sessionStorage.getItem("userId"),id:this.$route.query.id}}).then((function(t){t.data.success?(e.user.username=t.data.username,e.user.passwd=t.data.password,e.user.email=t.data.email,e.user.phoneNum=t.data.phoneNum,e.user.create_time=t.data.create_time,e.isother=!1):e.$message.error(t.data.msg)}))}},r=a,c=(s("3690"),s("9ca4")),u=Object(c["a"])(r,o,i,!1,null,null,null);t["default"]=u.exports},"716f":function(e,t,s){"use strict";var o=s("cb13"),i=s.n(o);i.a},cb13:function(e,t,s){},ddc0:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-menu",{staticClass:"el-menu-demo",attrs:{router:"","default-active":e.$route.path,mode:"horizontal"},on:{select:e.handleSelect}},[s("el-menu-item",{staticStyle:{"font-weight":"bold"}},[e._v("金刚石文档")]),s("el-menu-item",{attrs:{index:"/homepage"}},[e._v("我的工作台")]),s("el-menu-item",{attrs:{index:"/groupspace"}},[e._v("团队空间")]),s("el-menu-item",{attrs:{index:"/Template"}},[e._v("模板")]),s("el-submenu",{staticStyle:{float:"right"},attrs:{index:"4"}},[s("template",{slot:"title"},[e._v(e._s(e.username))]),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!e.isshow,expression:"!isshow"}],on:{click:function(t){return e.GotoPersonalInfo(e.id)}}},[e._v("个人信息")]),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!e.isshow,expression:"!isshow"}],on:{click:e.logout}},[e._v("退出登录")]),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],on:{click:e.GotoLogin}},[e._v("登录/注册")])],2),s("el-menu-item",{staticStyle:{float:"right"}},[s("el-dropdown",{staticClass:"project-container"},[s("el-button",{staticStyle:{"background-color":"white","border-color":"white","padding-right":"0"},attrs:{type:"primary"}},[s("i",{staticClass:"el-icon-bell"}),0!==e.numberOfUnreadMessages?s("el-badge",{staticClass:"item",staticStyle:{top:"-10px"},attrs:{value:e.numberOfUnreadMessages}}):e._e()],1),s("el-dropdown-menu",{staticClass:"project-dropdown",staticStyle:{"overflow-y":"auto",height:"auto"},attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.notificationList,(function(t){return s("el-dropdown-item",{key:t.id},[t.status?e._e():s("i",{staticClass:"el-icon-message-solid"}),1===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),2===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),3===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.confirmDocInvitationPopout(t)}}},[e._v(e._s(t.msg))]):e._e(),4===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),5===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),6===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),7===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),11===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),12===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),21===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.confirmGroupInvitationPopout(t)}}},[e._v(e._s(t.msg))]):e._e(),22===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),23===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),24===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),31===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e(),32===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),41===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.read(t)}}},[e._v(e._s(t.msg))]):e._e(),42===t.category?s("el-button",{staticStyle:{border:"white"},on:{click:function(s){return e.goToNotification(t)}}},[e._v(e._s(t.msg))]):e._e()],1)})),1)],1)],1),s("el-menu-item",{staticStyle:{float:"right","margin-right":"50px"}},[s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1)},i=[],n={data:function(){return{id:sessionStorage.getItem("userId"),navList:[],username:"游客",passwd:"",email:"",phone_num:"",create_time:"",isshow:!0,status:"退出登录",text:"",type:sessionStorage.getItem("type"),pageList:[],groupList:[],notificationList:[],drawer:!1,direction:"rtl",count:0,visible:!1,numberOfUnreadMessages:0}},methods:{handleSelect:function(e,t){console.log(e,t)},CreateTeam:function(){},logout:function(){this.username="游客",this.status="登录",this.isshow=!1,this.$router.push({path:"/"}),location.reload(),sessionStorage.clear()},GotoLogin:function(){this.$router.push({path:"/login"})},getNotification:function(){var e=this;this.$http.get(this.requestUrl+"/getNotification",{params:{userId:sessionStorage.getItem("userId")}}).then((function(t){console.log(t.data),e.notificationList=t.data;for(var s=0;s<e.notificationList.length;s++){if(e.notificationList[s].status)break;e.numberOfUnreadMessages++}}))},goToNotification:function(e){this.viewmk(e.objectID),this.read(e)},GotoGroupDoc:function(e){sessionStorage.setItem("groupid",e),this.$router.push({path:"/groupdoc"})},search:function(){sessionStorage.setItem("text",this.text),this.$router.push({path:"/searchres"})},confirmGroupInvitationPopout:function(e){var t=this;e.status?this.$message({message:"已读："+e.msg,type:"success"}):this.$confirm(e.msg,"邀请",{confirmButtonText:"同意",cancelButtonText:"拒绝",type:"info"}).then((function(){t.confirmGroupInvitation(e,!0)?(t.$message({type:"success",message:"加入团队成功!"}),e.status=!0,t.numberOfUnreadMessages--):t.$message.error("加入团队失败！请重试")})).catch((function(){t.confirmGroupInvitation(e,!1)?(t.$message({type:"warning",message:"已拒绝加入团队！"}),e.status=!0,t.numberOfUnreadMessages--):t.$message.error("拒绝加入团队失败！请重试")}))},confirmGroupInvitation:function(e,t){return this.$http.get(this.requestUrl+"/confirmGroupInvitation",{params:{userId:sessionStorage.getItem("userId"),groupId:e.objectID,userResponse:t,noticeId:e.id}}).then((function(e){return console.log(e.data),!0})),!0},confirmDocInvitationPopout:function(e){var t=this;e.status?this.$message({message:"已读："+e.msg,type:"success"}):this.$confirm(e.msg,"邀请",{confirmButtonText:"同意",cancelButtonText:"拒绝",type:"info"}).then((function(){t.confirmDocInvitation(e,!0)?(t.$message({type:"success",message:"加入协作文档成功！"}),e.status=!0,t.numberOfUnreadMessages--):t.$message.error("加入协作文档失败！请重试")})).catch((function(){t.confirmDocInvitation(e,!1)?(t.$message({type:"warning",message:"已拒绝加入协作文档！"}),e.status=!0,t.numberOfUnreadMessages--):t.$message.error("拒绝加入协作文档失败！请重试")}))},confirmDocInvitation:function(e,t){return this.$http.get(this.requestUrl+"/confirmDocInvitation",{params:{userId:sessionStorage.getItem("userId"),groupId:e.objectID,userResponse:t,noticeId:e.id}}).then((function(e){return console.log(e.data),!0})),!0},read:function(e){var t=this;this.$http.get(this.requestUrl+"/readNotifications",{params:{userId:sessionStorage.getItem("userId"),notificationID:e.id}}).then((function(s){t.$message({message:"已读："+e.msg,type:"success"}),console.log(s.data),e.status=!0,t.numberOfUnreadMessages--}))},findNotificationById:function(e){for(var t=0;t<this.notificationList.length;t++)if(this.notificationList[t].id==e)return this.notificationList[t];return-1}},created:function(){null!=sessionStorage.getItem("username")?(this.isshow=!1,this.username=sessionStorage.getItem("username")):this.isshow=!0,this.getNotification()}},a=n,r=(s("716f"),s("9ca4")),c=Object(r["a"])(a,o,i,!1,null,"17fc1bc6",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-7a2c2127.ab581783.js.map